(this["webpackJsonpreact-movie-finder"]=this["webpackJsonpreact-movie-finder"]||[]).push([[0],{132:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(31),i=a.n(r),s=(a(82),a(20)),l=a.n(s),o=a(26),j=a(9),d=a(135),h=a(142),b=a(141),u=a(138),m=a(136),O=a(70),p=(a(84),a(133),{apiKey:"AIzaSyDVhhqBnV-eR6CE3Fiw_CHggK78rETiIhw",authDomain:"movie-finder-dev.firebaseapp.com",projectId:"movie-finder-dev",storageBucket:"movie-finder-dev.appspot.com",messagingSenderId:"1:69807167044:web:489792512be76535cc4e11",appId:Object({NODE_ENV:"production",PUBLIC_URL:"/React-MovieDB",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDVhhqBnV-eR6CE3Fiw_CHggK78rETiIhw",REACT_APP_FIREBASE_APP_ID:"1:69807167044:web:489792512be76535cc4e11",REACT_APP_FIREBASE_AUTH_DOMAIN:"movie-finder-dev.firebaseapp.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"69807167044",REACT_APP_FIREBASE_PROJECT_ID:"movie-finder-dev",REACT_APP_FIREBASE_STORAGE_BUCKET:"movie-finder-dev.appspot.com",REACT_APP_TMDB_API_KEY:"9eaa4ccee2e7440dfd726ebefa20000b"}).REACT_APP_MESSAGING_APP_ID}),f=O.a.initializeApp(p),x=f.auth(),v=f.firestore(),g=a(2),_=n.a.createContext();function N(){return Object(c.useContext)(_)}function w(e){var t=e.children,a=Object(c.useState)(),n=Object(j.a)(a,2),r=n[0],i=n[1],s=Object(c.useState)(!0),l=Object(j.a)(s,2),o=l[0],d=l[1];Object(c.useEffect)((function(){return x.onAuthStateChanged((function(e){i(e),d(!1)}))}),[]);var h={currentUser:r,login:function(e,t){return x.signInWithEmailAndPassword(e,t)},logout:function(){return x.signOut()},signup:function(e,t){return x.createUserWithEmailAndPassword(e,t)}};return Object(g.jsx)(_.Provider,{value:h,children:!o&&t})}var y=a(10),E=a(11);var S=function(){for(var e=Object(c.useRef)(),t=Object(c.useRef)(),a=Object(c.useRef)(),n=N().signup,r=Object(c.useState)(),i=Object(j.a)(r,2),s=i[0],O=i[1],p=Object(c.useState)(!1),f=Object(j.a)(p,2),x=f[0],_=f[1],w=Object(y.f)(),S="#",C=0;C<6;C++)S+="0123456789ABCDEF"[Math.floor(15*Math.random())];function k(){return(k=Object(o.a)(l.a.mark((function c(r){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(r.preventDefault(),t.current.value===a.current.value){c.next=3;break}return c.abrupt("return",O("Passwords do not match "));case 3:return c.prev=3,O(""),_(!0),c.next=8,n(e.current.value,t.current.value);case 8:v.collection("Users").add({email:e.current.value,watchlist:[],ratings:[],profileColor:S}),_(!1),w.push("/"),c.next=16;break;case 13:c.prev=13,c.t0=c.catch(3),O("Failed to create account");case 16:case"end":return c.stop()}}),c,null,[[3,13]])})))).apply(this,arguments)}return Object(g.jsx)(d.a,{className:"d-flex justify-content-center  align-items-center",style:{minHeight:"100vh"},children:Object(g.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(g.jsx)(h.a,{children:Object(g.jsxs)(h.a.Body,{children:[Object(g.jsx)("h2",{className:"text-center mb-4",children:"Sign up"}),s&&Object(g.jsx)(b.a,{variant:"danger",children:s}),Object(g.jsxs)(u.a,{onSubmit:function(e){return k.apply(this,arguments)},children:[Object(g.jsx)(u.a.Group,{className:"mt-2",children:Object(g.jsx)(u.a.Control,{ref:e,required:!0,type:"email",placeholder:"Enter email"})}),Object(g.jsx)(u.a.Group,{className:"mt-2",children:Object(g.jsx)(u.a.Control,{ref:t,required:!0,type:"password",placeholder:"Enter password"})}),Object(g.jsx)(u.a.Group,{className:"mt-2",children:Object(g.jsx)(u.a.Control,{ref:a,required:!0,type:"password",placeholder:"Enter password again"})}),Object(g.jsx)(m.a,{disabled:x,variant:"info",type:"submit",children:"Submit "})]})]})}),Object(g.jsx)("div",{className:"w-100 text-center mt-2",children:Object(g.jsxs)("h2",{children:["Already have an account? ",Object(g.jsx)(E.b,{className:" text-info",to:"/login",children:"Login"})]})})]})})},C=a(19);a(40);var k=function(e){var t=Object(c.useState)(),a=Object(j.a)(t,2),n=a[0],r=a[1],i=Math.floor(20*Math.random());Object(c.useEffect)((function(){fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=9eaa4ccee2e7440dfd726ebefa20000b").then((function(e){return e.json()})).then((function(e){r(e.results)}))}),[]),Object(c.useEffect)((function(){n&&e.getRandomMovieImage(n[i].backdrop_path)}),[n]);var s=n&&n.map((function(e){var t=e.poster_path?"https://www.themoviedb.org/t/p/w500/".concat(e.poster_path):"/React-MovieDB/placeholder.png";return Object(g.jsxs)("div",{className:"mr-2 text-center ",children:[Object(g.jsx)(E.b,{to:{pathname:"/details-".concat(e.id)},children:Object(g.jsx)(C.LazyLoadImage,{effect:"blur",className:"homeCard rounded",src:t,placeholderSrc:"/React-MovieDB/placeholder.png",alt:e.original_title})}),Object(g.jsx)("h6",{children:0===e.vote_average?e.release_date:e.vote_average}),Object(g.jsx)(E.b,{className:"nav-link p-0 m-0",to:{pathname:"/details-".concat(e.id)},children:Object(g.jsx)("h6",{className:"text-dark",children:e.original_title})})]},e.id)}));return Object(g.jsxs)("div",{children:[Object(g.jsx)(d.a,{children:Object(g.jsx)("h1",{children:"Trendings"})}),Object(g.jsx)(d.a,{className:"d-flex overflow-auto ",children:s})]})},I=a(137),R=a(75);var A=function(){var e=Object(c.useState)(),t=Object(j.a)(e,2),a=t[0],n=t[1];Object(c.useEffect)((function(){fetch("https://api.themoviedb.org/3/movie/now_playing?api_key=9eaa4ccee2e7440dfd726ebefa20000b").then((function(e){return e.json()})).then((function(e){n(e.results)}))}),[]);var r=a&&a.map((function(e){var t=e.poster_path?"https://www.themoviedb.org/t/p/w500/".concat(e.poster_path):"/React-MovieDB/placeholder.png";return Object(g.jsxs)("div",{className:"mr-2 text-center ",children:[Object(g.jsx)(E.b,{to:{pathname:"/details-".concat(e.id)},children:Object(g.jsx)(C.LazyLoadImage,{className:" homeCard rounded",effect:"blur",placeholderSrc:"/React-MovieDB/placeholder.png",src:t,alt:e.original_title})}),Object(g.jsx)("h6",{children:0===e.vote_average?e.release_date:e.vote_average}),Object(g.jsx)(E.b,{className:"nav-link p-0 m-0",to:{pathname:"/details-".concat(e.id)},children:Object(g.jsx)("h6",{className:"text-dark",children:e.original_title})})]},e.id)}));return Object(g.jsxs)("div",{children:[Object(g.jsx)(d.a,{children:Object(g.jsx)("h1",{children:"Now In Theaters"})}),Object(g.jsx)(d.a,{className:"d-flex overflow-auto ",children:r})]})};var B=function(e){var t=Object(c.useState)(""),a=Object(j.a)(t,2),n=a[0],r=a[1],i=Object(y.f)();return Object(g.jsx)("div",{children:Object(g.jsxs)(u.a,{onSubmit:function(e){e.preventDefault(),i.push("/search-".concat(n))},className:"d-flex "+e.styleClass,children:[Object(g.jsx)(u.a.Control,{required:!0,value:n,onChange:function(e){r(e.target.value)},placeholder:"Search a Movie"}),Object(g.jsx)(m.a,{variant:"info",className:"searchButton d-flex ",type:"submit",children:" Search"})]})})},D=a(27),P=a.n(D);var M=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!0),i=Object(j.a)(r,2),s=i[0],l=i[1];function o(e){n("https://www.themoviedb.org/t/p/w1920_and_h800_multi_faces/".concat(e)),setTimeout((function(){return l(!1)}),500)}return Object(g.jsx)(P.a,{loading:s,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767",text:"Loading",children:Object(g.jsx)("div",{children:Object(g.jsxs)("div",{children:[Object(g.jsx)(d.a,{className:"  pl-0 mb-0    mainImg",style:{backgroundImage:"url(".concat(a,")")},children:Object(g.jsxs)(I.a,{className:" d-flex align-items-center  h-100 mainText text-light ml-auto  ",children:[Object(g.jsx)(R.a,{xs:12,className:"mt-4",children:Object(g.jsx)("h2",{className:"mb-0 homeText",children:" Welcome.Millions of movies to discover. Explore now."})}),Object(g.jsx)(R.a,{children:Object(g.jsx)(B,{styleClass:"homeForm"})})]})}),Object(g.jsx)(A,{}),Object(g.jsx)(k,{getRandomMovieImage:o})]})})})},T=a(140),U=a(139);var F=function(e){var t=N().currentUser;return Object(g.jsxs)(T.a,{className:"top ",style:{backgroundColor:"#000"},children:[Object(g.jsx)(E.b,{to:"/",className:"nav-link  text-light",children:"RMDB"}),Object(g.jsxs)(U.a,{className:"ml-auto   ",children:[Object(g.jsx)(E.b,{to:"/",className:"nav-link  text-light",children:"Home"}),t?Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)(E.b,{className:"nav-link  text-light",to:"/account",children:"Account"}),Object(g.jsx)(E.b,{to:"/watchlist",className:"nav-link text-light",children:" Watchlist"})]}):Object(g.jsxs)("div",{className:"d-flex",children:[Object(g.jsx)(E.b,{replace:!0,className:"nav-link  text-light",to:"/login",children:"Login"}),Object(g.jsx)(E.b,{replace:!0,className:"nav-link  text-light",to:"/signup",children:"Sign Up"})]})]})]})};var L=function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),a=N().login,n=Object(c.useState)(),r=Object(j.a)(n,2),i=r[0],s=r[1],O=Object(c.useState)(),p=Object(j.a)(O,2),f=p[0],x=p[1],v=Object(y.f)();function _(){return(_=Object(o.a)(l.a.mark((function c(n){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n.preventDefault(),c.prev=1,s(""),x(!0),c.next=6,a(e.current.value,t.current.value);case 6:x(!1),v.push("/"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),s("Failed to login");case 13:case"end":return c.stop()}}),c,null,[[1,10]])})))).apply(this,arguments)}return Object(g.jsx)("div",{children:Object(g.jsx)(d.a,{className:"d-flex justify-content-center  align-items-center",style:{minHeight:"100vh"},children:Object(g.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(g.jsx)(h.a,{children:Object(g.jsxs)(h.a.Body,{children:[Object(g.jsx)("h2",{className:"text-center mb-4",children:" Login"}),i&&Object(g.jsx)(b.a,{variant:"danger",children:i}),Object(g.jsxs)(u.a,{onSubmit:function(e){return _.apply(this,arguments)},children:[Object(g.jsx)(u.a.Group,{className:"mt-2",children:Object(g.jsx)(u.a.Control,{ref:e,required:!0,type:"email",placeholder:"Enter email"})}),Object(g.jsx)(u.a.Group,{className:"mt-2",children:Object(g.jsx)(u.a.Control,{ref:t,required:!0,type:"password",placeholder:"Enter password"})}),Object(g.jsx)(m.a,{disabled:f,variant:"info",type:"submit",children:"Submit "})]})]})}),Object(g.jsx)("div",{className:"w-100 text-center mt-2",children:Object(g.jsxs)("h2",{children:["Do not have an account? ",Object(g.jsx)(E.b,{className:" text-info",to:"/signup",children:"Sign Up"})]})})]})})})};var z=function(){var e=Object(c.useState)(),t=Object(j.a)(e,2),a=t[0],n=t[1],r=N(),i=r.currentUser,s=r.logout,u=Object(c.useState)(),O=Object(j.a)(u,2),p=O[0],f=O[1],x=Object(y.f)();function _(){return(_=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(""),e.prev=1,e.next=4,s();case 4:x.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){v.collection("Users").get().then((function(e){e.forEach((function(e){var t=e.data();i.email===t.email&&f(t.profileColor)}))}))}),[]),Object(g.jsx)(d.a,{className:"d-flex align-items-center justify-content-center ",style:{minHeight:"100vh"},children:Object(g.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(g.jsxs)(h.a,{children:[Object(g.jsxs)(h.a.Body,{children:[Object(g.jsxs)("div",{className:"d-flex align-items-center ",children:[Object(g.jsx)("h1",{className:" text-light profileImg mt-2 pt-4 text-center",style:{backgroundColor:p},children:i&&i.email[0].toUpperCase()}),a&&Object(g.jsx)(b.a,{variant:"danger",children:a}),Object(g.jsx)("h3",{className:"ml-5  ",children:i&&i.email.split("@")[0]})]}),a&&Object(g.jsx)(b.a,{variant:"danger",children:a})]}),Object(g.jsx)(m.a,{onClick:function(){return _.apply(this,arguments)},children:"Logout"})]})})})};var G=function(e){var t=Object(c.useState)(),a=Object(j.a)(t,2),n=a[0],r=a[1];Object(c.useEffect)((function(){fetch("https://api.themoviedb.org/3/movie/".concat(e.id,"/credits?api_key=").concat("9eaa4ccee2e7440dfd726ebefa20000b")).then((function(e){return e.json()})).then((function(e){return r(e)}))}),[e]);var i=n&&n.cast.map((function(e){var t=e.profile_path?"https://www.themoviedb.org/t/p/w500/".concat(e.profile_path):"/React-MovieDB/placeholder.png";return Object(g.jsx)(d.a,{children:Object(g.jsxs)("div",{className:"castCard  ",children:[Object(g.jsx)(C.LazyLoadImage,{effect:"blur",className:"castImg h-70",src:t,placeholderSrc:"/React-MovieDB/placeholder.png"}),Object(g.jsx)("p",{className:"mx-1 my-0",children:Object(g.jsxs)("strong",{children:[" ",e.name]})}),Object(g.jsx)("p",{className:"mx-1 my-0",children:e.character})]})},Math.random())}));return Object(g.jsx)(d.a,{className:"d-flex overflow-auto ",children:i})},H=a(61),W=a(34),q=a(35);var K=function(e){var t=Object(c.useState)(0),a=Object(j.a)(t,2),n=a[0],r=a[1],i=N().currentUser,s=Object(y.f)();function l(t){var a;i?(r(t.target.value),a=t.target.value,v.collection("Users").get().then((function(t){t.forEach((function(t){var c=t.data();if(i.email===c.email){for(var n=c.ratings,r=null,s=0;s<n.length;s++)Object.keys(n[s])[0]==e.id&&(r=s);r||0===r?n[r]=Object(H.a)({},e.id,a):n.push(Object(H.a)({},e.id,a)),v.collection("Users").doc(t.id).update({ratings:n})}}))}))):s.push("/login")}return Object(c.useEffect)((function(){i&&v.collection("Users").get().then((function(t){t.forEach((function(t){var a=t.data();i.email===a.email&&v.collection("Users").doc(t.id).get().then((function(t){var a=null;(t.data().ratings.forEach((function(t){Object.keys(t)[0]==e.id&&(a=t[e.id],r(t[e.id]))})),a)?document.getElementById("rating-".concat(a)).setAttribute("checked","checked"):document.getElementById("rating-none").setAttribute("checked","checked")}))}))}))}),[]),Object(g.jsxs)("div",{className:"rating-group",children:[Object(g.jsx)("input",{onClick:l,className:" rating__input rating__input--none",name:"rating",id:"rating-none",value:"0",type:"radio"}),Object(g.jsx)("label",{"aria-label":"No rating",className:"rating__label",htmlFor:"rating-none",children:Object(g.jsx)(W.a,{icon:q.a,className:"rating__icon rating__icon--none "})}),Object(g.jsx)("label",{"aria-label":"1 star",className:"rating__label",htmlFor:"rating-1",children:Object(g.jsx)(W.a,{icon:q.b,className:"rating__icon rating__icon--star "})}),Object(g.jsx)("input",{onClick:l,className:"rating__input",name:"rating",id:"rating-1",value:"1",type:"radio"}),Object(g.jsx)("label",{"aria-label":"2 stars",className:"rating__label",htmlFor:"rating-2",children:Object(g.jsx)(W.a,{icon:q.b,className:"rating__icon rating__icon--star "})}),Object(g.jsx)("input",{onClick:l,className:"rating__input",name:"rating",id:"rating-2",value:"2",type:"radio"}),Object(g.jsx)("label",{"aria-label":"3 stars",className:"rating__label",htmlFor:"rating-3",children:Object(g.jsx)(W.a,{icon:q.b,className:"rating__icon rating__icon--star "})}),Object(g.jsx)("input",{onClick:l,className:"rating__input",name:"rating",id:"rating-3",value:"3",type:"radio"}),Object(g.jsx)("label",{"aria-label":"4 stars",className:"rating__label",htmlFor:"rating-4",children:Object(g.jsx)(W.a,{icon:q.b,className:"rating__icon rating__icon--star "})}),Object(g.jsx)("input",{onClick:l,className:"rating__input",name:"rating",id:"rating-4",value:"4",type:"radio"}),Object(g.jsx)("label",{"aria-label":"5 stars",className:"rating__label",htmlFor:"rating-5",children:Object(g.jsx)(W.a,{icon:q.b,className:"rating__icon rating__icon--star "})}),Object(g.jsx)("input",{onClick:l,className:"rating__input",name:"rating",id:"rating-5",value:"5",type:"radio"}),Object(g.jsxs)("h5",{className:"ml-1",children:[n,"/5"]})]})};var V=function(){var e=Object(y.g)(),t=N().currentUser,a=Object(c.useState)(),n=Object(j.a)(a,2),r=n[0],i=n[1],s=Object(c.useState)(),h=Object(j.a)(s,2),b=h[0],u=h[1],O=Object(c.useState)(),p=Object(j.a)(O,2),f=p[0],x=p[1],_=Object(c.useState)(!0),w=Object(j.a)(_,2),E=w[0],S=w[1],k=Object(y.f)();function A(){t?v.collection("Users").get().then((function(e){e.forEach((function(e){var a=e.data();if(t.email===a.email){var c=a.watchlist;c.every((function(e){return e!==r.id}))&&c.push(r.id),v.collection("Users").doc(e.id).update({watchlist:c})}}))})):k.push("/login")}function B(e){if(e<60)return"".concat(e,"m");var t=Math.floor(e/60),a=e%60;return 0===a?"".concat(t,"h"):"".concat(t,"h ").concat(a,"m")}return Object(c.useEffect)((function(){function t(){return(t=Object(o.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.themoviedb.org/3/movie/".concat(e.pathname.split("-")[1],"?api_key=").concat("9eaa4ccee2e7440dfd726ebefa20000b")).then((function(e){return e.json()})).then((function(e){e.poster_path?u("https://image.tmdb.org/t/p/w500/"+e.poster_path):u("placeholder.png"),e.backdrop_path&&x("https://www.themoviedb.org/t/p/w1920_and_h800_multi_faces/"+e.backdrop_path),i(e),S(!1)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(g.jsx)(P.a,{loading:E,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767",text:"Loading",children:Object(g.jsx)("div",{children:function(){if(r){var e=r.genres.map((function(e){return e.name}));return Object(g.jsxs)("div",{children:[Object(g.jsx)(d.a,{fluid:!0,style:{backgroundImage:"url(".concat(f,")")},className:"backgroundImg pl-0  detailsCard mb-4  ",children:Object(g.jsxs)(I.a,{className:"movieInfoCard text-light ml-auto d-flex align-items-center",children:[Object(g.jsx)(R.a,{md:"auto",xs:"12",className:"my-4 ",children:Object(g.jsx)(C.LazyLoadImage,{effect:"blur",placeholderSrc:"/React-MovieDB/placeholder.png",src:b,alt:r.original_title,className:"detailsImg rounded"})}),Object(g.jsxs)(R.a,{children:[Object(g.jsxs)(I.a,{className:"text-center",children:[Object(g.jsx)("h1",{children:"".concat(r.original_title," (").concat(r.release_date.split("-")[0],")")}),Object(g.jsx)("h1",{className:"text-white-50"})]}),Object(g.jsxs)(I.a,{className:"ml-1",children:[Object(g.jsxs)("h5",{children:[r.vote_average," "]}),Object(g.jsxs)("h5",{className:"mx-1",children:["|",e.join(",")," |"]}),Object(g.jsx)("h5",{children:B(r.runtime)})]}),Object(g.jsx)(K,{id:r.id}),Object(g.jsx)("h5",{className:"text-white-50 ml-1",children:r.tagline}),Object(g.jsx)("h5",{children:"Overview"}),Object(g.jsxs)("p",{children:[r.overview," "]}),Object(g.jsx)(I.a,{className:"ml-1 mb-2",children:Object(g.jsx)(m.a,{onClick:A,children:"Add to watchlist"})})]})]})}),Object(g.jsx)(G,{id:r.id})]})}}()})})};var J=function(){var e=Object(y.g)(),t=Object(c.useState)(),a=Object(j.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(!0),s=Object(j.a)(i,2),l=s[0],o=s[1];Object(c.useEffect)((function(){r(e.pathname.split("-")[1])}),[e]);var b=Object(c.useState)(),u=Object(j.a)(b,2),m=u[0],O=u[1];Object(c.useEffect)((function(){fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("9eaa4ccee2e7440dfd726ebefa20000b","&query=").concat(n)).then((function(e){return e.json()})).then((function(e){O(e.results),o(!1)}))}),[n]);var p=m&&m.map((function(e){return Object(g.jsxs)(h.a,{className:" overflow-hidden searchCard mt-2  flex-row \r ",children:[Object(g.jsx)(E.b,{to:{pathname:"/details-".concat(e.id)},children:Object(g.jsx)(C.LazyLoadImage,{className:"searchImg",src:e.poster_path?"https://image.tmdb.org/t/p/w500/"+e.poster_path:"/React-MovieDB/placeholder.png",effect:"blur",placeholderSrc:"/React-MovieDB/placeholder.png",alt:e.original_title+" Poster"})}),Object(g.jsxs)(h.a.Body,{children:[Object(g.jsx)(E.b,{className:"nav-link p-0 m-0",to:{pathname:"/details-".concat(e.id)},children:Object(g.jsx)("h4",{className:"text-dark",children:e.original_title})}),Object(g.jsx)("p",{style:{fontSize:"1.2rem"},className:"text-muted",children:e.release_date})]})]},e.id)}));return Object(g.jsxs)(P.a,{loading:l,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767",text:"Loading",children:[Object(g.jsx)(d.a,{fluid:!0,children:Object(g.jsx)(B,{styleClass:"resultsForm"})}),Object(g.jsx)(d.a,{children:Object(g.jsx)("h1",{children:p})})]})};var Y=function(e){var t=Object(c.useState)(),a=Object(j.a)(t,2),n=a[0],r=a[1];function i(e){if(e<60)return"".concat(e,"m");var t=Math.floor(e/60),a=e%60;return 0===a?"".concat(t,"h"):"".concat(t,"h ").concat(a,"m")}return Object(c.useEffect)((function(){fetch("https://api.themoviedb.org/3/movie/".concat(e.id,"?api_key=").concat("9eaa4ccee2e7440dfd726ebefa20000b")).then((function(e){return e.json()})).then((function(e){return r(e)}))}),[e.id]),Object(g.jsx)(d.a,{children:n?function(){var t=n.genres.map((function(e){return e.name})),a=n.poster_path?"https://www.themoviedb.org/t/p/w500/".concat(n.poster_path):"/React-MovieDB/placeholder.png";return Object(g.jsxs)(h.a,{id:"watchlistCard",className:"mt-2 flex-row ",children:[Object(g.jsx)(E.b,{className:"align-self-center",to:"details-".concat(n.id),children:Object(g.jsx)(C.LazyLoadImage,{placeholderSrc:"/React-MovieDB/placeholder.png",effect:"blur",className:" watchlistImg ",alt:n.original_title+" poster",src:a})}),Object(g.jsxs)(h.a.Body,{className:"",children:[Object(g.jsx)(E.b,{className:"nav-link text-dark p-0",to:"details-".concat(n.id),children:Object(g.jsxs)("h1",{children:[n.original_title," "]})}),Object(g.jsxs)("div",{id:"watchlistInfo",className:"d-flex ",children:[Object(g.jsx)("h5",{children:n.vote_average}),Object(g.jsxs)("h5",{children:["|",t.join(","),"|"]}),Object(g.jsx)("h5",{children:i(n.runtime)})]}),Object(g.jsxs)("p",{className:"mb-1  watchlistOverview",children:[n.overview," "]})]}),Object(g.jsx)("div",{className:"align-self-end",children:Object(g.jsx)(m.a,{onClick:function(){e.handleRemove(n.id)},variant:"outline-danger",className:"  mb-1 mx-2 float-right",children:"Remove"})})]})}():""})};var Q=function(){var e=N().currentUser,t=Object(c.useState)(),a=Object(j.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(!0),s=Object(j.a)(i,2),l=s[0],o=s[1];function d(t){var a=n.filter((function(e){return e!==t}));v.collection("Users").get().then((function(t){t.forEach((function(t){var c=t.data();e.email===c.email&&v.collection("Users").doc(t.id).update({watchlist:a})}))})),r(a)}Object(c.useEffect)((function(){v.collection("Users").get().then((function(t){t.forEach((function(t){var a=t.data();e.email===a.email&&(r(a.watchlist),o(!1))}))}))}),[]);var h=n&&n.map((function(e){return Object(g.jsx)(Y,{handleRemove:d,id:e},e)}));return Object(g.jsx)(P.a,{loading:l,bgColor:"#f1f1f1",spinnerColor:"#9ee5f8",textColor:"#676767",text:"Loading",children:Object(g.jsx)("div",{children:h})})};var X=function(){return Object(g.jsxs)(w,{children:[Object(g.jsx)(F,{}),Object(g.jsxs)(y.c,{children:[Object(g.jsx)(y.a,{exact:!0,path:"/",children:Object(g.jsx)(M,{})}),Object(g.jsx)(y.a,{path:"/signup",children:Object(g.jsx)(S,{})}),Object(g.jsx)(y.a,{path:"/login",children:Object(g.jsx)(L,{})}),Object(g.jsx)(y.a,{path:"/account",children:Object(g.jsx)(z,{})}),Object(g.jsx)(y.a,{path:"/details-:id",children:Object(g.jsx)(V,{})}),Object(g.jsx)(y.a,{path:"/search-:movie",children:Object(g.jsx)(J,{})}),Object(g.jsx)(y.a,{path:"/watchlist",children:Object(g.jsx)(Q,{})})]})]})};a(131);i.a.render(Object(g.jsx)(E.a,{children:Object(g.jsx)(X,{})}),document.getElementById("root"))},82:function(e,t,a){}},[[132,1,2]]]);
//# sourceMappingURL=main.3b0e56ce.chunk.js.map